(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{271:function(module,exports,__webpack_require__){__webpack_require__(272),__webpack_require__(422),module.exports=__webpack_require__(423)},338:function(module,exports){},423:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(270);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(614)],module)}.call(this,__webpack_require__(424)(module))},614:function(module,exports,__webpack_require__){var map={"./1-Table.stories.tsx":617};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=614},617:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BasicTable",(function(){return BasicTable})),__webpack_require__.d(__webpack_exports__,"withCustomRender",(function(){return withCustomRender}));var react=__webpack_require__(1),react_default=__webpack_require__.n(react),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},TableContext=Object(react.createContext)({}),TableContextProvider=function(_a){var children=_a.children,_b=Object(react.useState)([]),columns=_b[0],setColumns=_b[1],registerColumn=Object(react.useCallback)((function(_a){var name=_a.name,render=_a.render,index=_a.index;setColumns((function(oldColumns){return __spreadArrays(oldColumns,[{name:name,render:render,index:index}])}))}),[]),getColumnByName=Object(react.useCallback)((function(name){return columns.find((function(item){return item.name===name}))}),[columns]),updateColumnIndex=Object(react.useCallback)((function(_a){var name=_a.name,index=_a.index;setColumns((function(oldColumns){return oldColumns.map((function(column){return column.name!==name?column:__assign(__assign({},column),{index:index})}))}))}),[]),getAllColumns=Object(react.useCallback)((function(){return columns}),[columns]);return react_default.a.createElement(TableContext.Provider,{value:{getColumnByName:getColumnByName,registerColumn:registerColumn,updateColumnIndex:updateColumnIndex,getAllColumns:getAllColumns}},children)};function useTable(){return Object(react.useContext)(TableContext)}var components_TableCell=react_default.a.memo((function(_a){var data=_a.data,render=_a.render;return react_default.a.createElement("td",null,render(data))}));function TableRow(_a){var data=_a.data,getAllColumns=useTable().getAllColumns,ordenedColumns=Object(react.useMemo)((function(){return getAllColumns().sort((function(a,b){return a.index-b.index}))}),[getAllColumns]);return react_default.a.createElement("tr",null,ordenedColumns.map((function(column){return react_default.a.createElement(components_TableCell,{key:column.name,render:column.render,data:data[column.name]})})))}var components_TableRow=TableRow;try{TableRow.displayName="TableRow",TableRow.__docgenInfo={description:"",displayName:"TableRow",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"ReactText"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"LegacyRef<void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TableRow/index.tsx#TableRow"]={docgenInfo:TableRow.__docgenInfo,name:"TableRow",path:"src/components/TableRow/index.tsx#TableRow"})}catch(__react_docgen_typescript_loader_error){}function Table(_a){var children=_a.children,data=_a.data,keyExtractor=_a.keyExtractor;return react_default.a.createElement(TableContextProvider,null,react_default.a.createElement("table",null,react_default.a.createElement("thead",null,react_default.a.createElement("tr",null,children)),react_default.a.createElement("tbody",null,data.map((function(item){return react_default.a.createElement(components_TableRow,{key:keyExtractor(item),data:item})})))))}var components_Table=Table;try{Table.displayName="Table",Table.__docgenInfo={description:"",displayName:"Table",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T[]"}},keyExtractor:{defaultValue:null,description:"",name:"keyExtractor",required:!0,type:{name:"(item: T) => string"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"ReactText"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"LegacyRef<void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/index.tsx#Table"]={docgenInfo:Table.__docgenInfo,name:"Table",path:"src/components/Table/index.tsx#Table"})}catch(__react_docgen_typescript_loader_error){}var components_TableColumn=function(_a){var children=_a.children,name=_a.name,customRender=_a.render,_b=Object(react.useState)(!1),registered=_b[0],setRegistered=_b[1],_c=Object(react.useState)(-1),index=_c[0],setIndex=_c[1],_d=useTable(),registerColumn=_d.registerColumn,updateColumnIndex=_d.updateColumnIndex,columnRef=Object(react.useRef)(null);Object(react.useLayoutEffect)((function(){columnRef.current?setIndex(columnRef.current.cellIndex):setIndex(-1)}),[]);var render=Object(react.useCallback)((function(data){return customRender?customRender(data):react_default.a.createElement(react_default.a.Fragment,null,data)}),[customRender]);return Object(react.useEffect)((function(){registered?registered&&-1!==index&&updateColumnIndex({name:name,index:index}):(registerColumn({name:name,index:index,render:render}),setRegistered(!0))}),[index,name,render,registerColumn,updateColumnIndex,registered]),react_default.a.createElement("th",{ref:columnRef},children)},src=components_Table,addSourceDecorator=(__webpack_require__(269).withSource,__webpack_require__(269).addSource),__SOURCE_PREFIX__="/home/runner/work/React-Simple-Table/React-Simple-Table/stories",__STORY__="import React from 'react';\n\nimport Table, { TableColumn } from '../src/index';\n\nexport default {\n  title: 'Table',\n  component: Table,\n};\n\ntype DataProps = {\n  key: string;\n  description: string;\n};\n\nconst data: DataProps[] = [\n  { key: 'item1', description: 'Description for the item one' },\n  { key: 'item2', description: 'Description for the item two' },\n];\n\nexport const BasicTable: React.FC = () => (\n  <Table<DataProps> data={data} keyExtractor={item => item.key}>\n    <TableColumn name=\"key\">key</TableColumn>\n    <TableColumn name=\"description\">description</TableColumn>\n  </Table>\n);\n\nexport const withCustomRender: React.FC = () => (\n  <Table<DataProps> data={data} keyExtractor={item => item.key}>\n    <TableColumn name=\"key\">Key</TableColumn>\n    <TableColumn\n      name=\"description\"\n      render={item => <div>this is a custom render of {item}</div>}\n    >\n      description\n    </TableColumn>\n  </Table>\n);\n",__ADDS_MAP__={"table--basic-table":{startLoc:{col:36,line:20},endLoc:{col:1,line:25},startBody:{col:36,line:20},endBody:{col:1,line:25}},"table--with-custom-render":{startLoc:{col:42,line:27},endLoc:{col:1,line:37},startBody:{col:42,line:27},endBody:{col:1,line:37}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},_1_Table_stories_data=(__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\n\nimport Table, { TableColumn } from '../src/index';\n\nexport default {\n  title: 'Table',\n  component: Table,\n};\n\ntype DataProps = {\n  key: string;\n  description: string;\n};\n\nconst data: DataProps[] = [\n  { key: 'item1', description: 'Description for the item one' },\n  { key: 'item2', description: 'Description for the item two' },\n];\n\nexport const BasicTable: React.FC = () => (\n  <Table<DataProps> data={data} keyExtractor={item => item.key}>\n    <TableColumn name=\"key\">key</TableColumn>\n    <TableColumn name=\"description\">description</TableColumn>\n  </Table>\n);\n\nexport const withCustomRender: React.FC = () => (\n  <Table<DataProps> data={data} keyExtractor={item => item.key}>\n    <TableColumn name=\"key\">Key</TableColumn>\n    <TableColumn\n      name=\"description\"\n      render={item => <div>this is a custom render of {item}</div>}\n    >\n      description\n    </TableColumn>\n  </Table>\n);\n",locationsMap:{"table--basic-table":{startLoc:{col:36,line:20},endLoc:{col:1,line:25},startBody:{col:36,line:20},endBody:{col:1,line:25}},"table--with-custom-render":{startLoc:{col:42,line:27},endLoc:{col:1,line:37},startBody:{col:42,line:27},endBody:{col:1,line:37}}}}},title:"Table",component:src},[{key:"item1",description:"Description for the item one"},{key:"item2",description:"Description for the item two"}]),BasicTable=addSourceDecorator((function(){return react_default.a.createElement(src,{data:_1_Table_stories_data,keyExtractor:function(item){return item.key}},react_default.a.createElement(components_TableColumn,{name:"key"},"key"),react_default.a.createElement(components_TableColumn,{name:"description"},"description"))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/1-Table.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),withCustomRender=addSourceDecorator((function(){return react_default.a.createElement(src,{data:_1_Table_stories_data,keyExtractor:function(item){return item.key}},react_default.a.createElement(components_TableColumn,{name:"key"},"Key"),react_default.a.createElement(components_TableColumn,{name:"description",render:function(item){return react_default.a.createElement("div",null,"this is a custom render of ",item)}},"description"))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/1-Table.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})}},[[271,1,2]]]);
//# sourceMappingURL=main.a0b60b537fbfe32359c0.bundle.js.map